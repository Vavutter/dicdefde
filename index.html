<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LumenLexikon – Deutsches Premium-Wörterbuch</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoE0jmWTx0Q6p6Xw5L5rO3T1Bp2QH9nS3+z0ig=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      :root {
        color-scheme: dark light;
        --bg: #050713;
        --bg-alt: #0d1326;
        --card: rgba(18, 26, 52, 0.76);
        --card-hover: rgba(32, 41, 74, 0.86);
        --accent: #6cd5ff;
        --accent-strong: #5da0ff;
        --accent-soft: rgba(108, 213, 255, 0.18);
        --text: #f4f7ff;
        --muted: #a4adcc;
        --shadow: 0 24px 60px rgba(4, 11, 28, 0.55);
        --border: 1px solid rgba(255, 255, 255, 0.08);
      }

      body.light-mode {
        --bg: #f6f7fb;
        --bg-alt: #ffffff;
        --card: rgba(255, 255, 255, 0.82);
        --card-hover: rgba(255, 255, 255, 0.96);
        --accent: #236bff;
        --accent-strong: #0d45c8;
        --accent-soft: rgba(35, 107, 255, 0.12);
        --text: #111527;
        --muted: #5f6480;
        --shadow: 0 18px 40px rgba(31, 37, 69, 0.18);
        --border: 1px solid rgba(17, 21, 39, 0.06);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        font-family: "Poppins", "Segoe UI", sans-serif;
        background: var(--bg);
        color: var(--text);
        min-height: 100%;
        -webkit-font-smoothing: antialiased;
      }

      body {
        position: relative;
        overflow-x: hidden;
      }

      .gradient-bg {
        position: fixed;
        inset: 0;
        z-index: -2;
        background: radial-gradient(
            circle at 20% 20%,
            rgba(104, 96, 255, 0.42),
            transparent 45%
          ),
          radial-gradient(
            circle at 80% 10%,
            rgba(80, 220, 255, 0.38),
            transparent 48%
          ),
          radial-gradient(
            circle at 50% 80%,
            rgba(255, 111, 145, 0.3),
            transparent 60%
          ),
          linear-gradient(160deg, rgba(5, 7, 19, 0.9), rgba(5, 7, 19, 0.4));
      }

      .gradient-blob {
        position: absolute;
        width: 460px;
        height: 460px;
        border-radius: 50%;
        filter: blur(60px);
        opacity: 0.55;
        animation: float 18s ease-in-out infinite;
      }

      .gradient-blob.blob-1 {
        top: -120px;
        left: -160px;
        background: radial-gradient(
          circle,
          rgba(138, 95, 255, 0.7),
          transparent 55%
        );
        animation-delay: -6s;
      }

      .gradient-blob.blob-2 {
        bottom: 40px;
        right: -120px;
        background: radial-gradient(
          circle,
          rgba(53, 184, 255, 0.7),
          transparent 50%
        );
        animation-delay: -3s;
      }

      .gradient-blob.blob-3 {
        bottom: -120px;
        left: 20%;
        width: 520px;
        height: 520px;
        background: radial-gradient(
          circle,
          rgba(255, 155, 135, 0.55),
          transparent 55%
        );
      }

      @keyframes float {
        0% {
          transform: translate3d(0, 0, 0) scale(1);
        }
        50% {
          transform: translate3d(40px, -20px, 0) scale(1.08);
        }
        100% {
          transform: translate3d(0, 0, 0) scale(1);
        }
      }

      header.top-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: clamp(1rem, 2vw, 1.6rem) clamp(1.6rem, 6vw, 5rem);
        position: sticky;
        top: 0;
        z-index: 10;
        backdrop-filter: blur(18px);
        background: linear-gradient(
          135deg,
          rgba(8, 11, 27, 0.85),
          rgba(8, 11, 27, 0.55)
        );
        border-bottom: var(--border);
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 0.85rem;
        font-size: 1.15rem;
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .brand span.logo-icon {
        font-size: 1.7rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border-radius: 16px;
        background: var(--accent-soft);
        color: var(--accent);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
      }

      nav.top-links {
        display: flex;
        gap: 1.4rem;
        font-size: 0.95rem;
        letter-spacing: 0.02em;
      }

      nav.top-links a {
        color: var(--muted);
        text-decoration: none;
        transition:
          color 0.2s ease,
          transform 0.2s ease;
      }

      nav.top-links a:hover {
        color: var(--accent);
        transform: translateY(-1px);
      }

      .top-actions {
        display: flex;
        align-items: center;
        gap: 0.6rem;
      }

      .pill-btn {
        border: none;
        padding: 0.6rem 1rem;
        border-radius: 999px;
        background: linear-gradient(
          135deg,
          rgba(110, 213, 255, 0.26),
          rgba(112, 141, 255, 0.4)
        );
        color: var(--text);
        font-weight: 500;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease,
          background 0.2s ease;
        box-shadow: 0 12px 28px rgba(37, 71, 137, 0.35);
      }

      .pill-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 34px rgba(37, 71, 137, 0.45);
      }

      .theme-toggle {
        width: 40px;
        height: 40px;
        border-radius: 14px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.05);
        color: var(--text);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition:
          transform 0.3s ease,
          background 0.3s ease;
      }

      .theme-toggle:hover {
        transform: rotate(-6deg) scale(1.02);
        background: rgba(255, 255, 255, 0.12);
      }

      main.page {
        padding: clamp(1.2rem, 2vw, 2rem) clamp(1.6rem, 6vw, 5rem) 4rem;
        display: flex;
        flex-direction: column;
        gap: clamp(1.6rem, 3vw, 3.4rem);
        position: relative;
        z-index: 1;
      }

      section.hero {
        display: grid;
        grid-template-columns: minmax(0, 1.35fr) minmax(0, 1fr);
        gap: clamp(1.6rem, 3vw, 3rem);
        align-items: stretch;
      }

      .hero-card,
      .side-card {
        border-radius: 28px;
        padding: clamp(1.6rem, 3vw, 3rem);
        background: var(--card);
        border: var(--border);
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }

      .hero-card::after {
        content: "";
        position: absolute;
        top: -30%;
        right: -20%;
        width: 360px;
        height: 360px;
        background: radial-gradient(
          circle,
          rgba(95, 178, 255, 0.35),
          transparent 55%
        );
        z-index: -1;
      }

      .hero-card h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.1rem, 4vw, 3.2rem);
        font-weight: 600;
        margin: 0 0 0.8rem;
        line-height: 1.15;
      }

      .hero-card p.lead {
        margin: 0 0 1.8rem;
        color: var(--muted);
        font-size: 1.05rem;
        max-width: 560px;
      }

      .hero-search {
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
      }

      .hero-search input[type="search"] {
        flex: 1;
        min-width: 220px;
        padding: 0.95rem 1.2rem;
        border-radius: 18px;
        border: var(--border);
        background: rgba(5, 7, 15, 0.35);
        backdrop-filter: blur(12px);
        color: var(--text);
        font-size: 1rem;
        transition:
          border 0.2s ease,
          box-shadow 0.2s ease;
      }

      body.light-mode .hero-search input[type="search"] {
        background: rgba(255, 255, 255, 0.85);
      }

      .hero-search input[type="search"]:focus {
        outline: none;
        border-color: rgba(108, 213, 255, 0.45);
        box-shadow: 0 0 0 4px rgba(108, 213, 255, 0.18);
      }

      .hero-metrics {
        margin-top: 2.4rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1rem;
      }

      .metric-card {
        padding: 1rem 1.2rem;
        border-radius: 18px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.04);
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      body.light-mode .metric-card {
        background: rgba(17, 21, 39, 0.04);
      }

      .metric-card span.label {
        color: var(--muted);
        font-size: 0.85rem;
      }

      .metric-card strong {
        font-size: 1.4rem;
        letter-spacing: 0.01em;
      }

      .side-card h2 {
        font-size: 1.35rem;
        margin: 0 0 0.6rem;
        font-weight: 600;
      }

      .side-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.95rem;
      }

      .word-of-day {
        margin-top: 1.4rem;
        padding: 1.2rem 1.4rem;
        border-radius: 22px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.05);
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
      }

      body.light-mode .word-of-day {
        background: rgba(17, 21, 39, 0.05);
      }

      .word-of-day .wod-title {
        font-size: 1.4rem;
        font-weight: 600;
        color: var(--accent);
      }

      .word-of-day .wod-meta {
        display: flex;
        gap: 0.6rem;
        flex-wrap: wrap;
        font-size: 0.86rem;
        color: var(--muted);
      }

      .dictionary-section {
        display: grid;
        grid-template-columns: minmax(0, 0.95fr) minmax(0, 1.25fr);
        gap: clamp(1.4rem, 3vw, 3rem);
        align-items: stretch;
      }

      .filter-panel,
      .word-details {
        border-radius: 28px;
        background: var(--card);
        border: var(--border);
        box-shadow: var(--shadow);
      }

      .filter-panel {
        padding: clamp(1.3rem, 2.6vw, 2.2rem);
        display: flex;
        flex-direction: column;
        gap: 1.2rem;
      }

      .filter-panel h3 {
        margin: 0;
        font-size: 1.25rem;
      }

      .filter-group {
        display: flex;
        flex-direction: column;
        gap: 0.7rem;
      }

      .filter-group label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .filter-panel input,
      .filter-panel select {
        width: 100%;
        padding: 0.8rem 1rem;
        border-radius: 16px;
        border: var(--border);
        background: rgba(0, 0, 0, 0.15);
        color: var(--text);
        font-size: 0.95rem;
      }

      body.light-mode .filter-panel input,
      body.light-mode .filter-panel select {
        background: rgba(255, 255, 255, 0.88);
      }

      .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 0.75rem;
      }

      .quick-actions button {
        padding: 0.75rem 0.85rem;
        border-radius: 16px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.04);
        color: var(--text);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.4rem;
        cursor: pointer;
        transition:
          transform 0.2s ease,
          background 0.2s ease;
      }

      .quick-actions button:hover {
        transform: translateY(-2px);
        background: rgba(255, 255, 255, 0.1);
      }

      body.light-mode .quick-actions button {
        background: rgba(17, 21, 39, 0.04);
      }

      .suggestions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        font-size: 0.85rem;
      }

      .suggestions span {
        padding: 0.4rem 0.8rem;
        border-radius: 999px;
        background: var(--accent-soft);
        color: var(--accent);
        cursor: pointer;
        transition: transform 0.2s ease;
      }

      .suggestions span:hover {
        transform: translateY(-2px);
      }

      .favorites {
        border-radius: 18px;
        padding: 1rem 1.2rem;
        border: var(--border);
        background: rgba(255, 255, 255, 0.05);
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      body.light-mode .favorites {
        background: rgba(17, 21, 39, 0.05);
      }

      .favorites h4 {
        margin: 0;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .favorites ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.3rem;
        max-height: 200px;
        overflow-y: auto;
      }

      .favorites li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.6rem;
        padding: 0.4rem 0.2rem;
        font-size: 0.92rem;
        cursor: pointer;
        border-radius: 10px;
        transition: background 0.2s ease;
      }

      .favorites li:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .word-area {
        display: grid;
        grid-template-columns: minmax(0, 0.95fr) minmax(0, 1.2fr);
        gap: clamp(1.1rem, 2.2vw, 2rem);
      }

      .word-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 0.9rem;
        max-height: 620px;
        overflow-y: auto;
        padding-right: 0.4rem;
      }

      .word-card {
        border-radius: 18px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.04);
        padding: 1rem 1.1rem;
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        cursor: pointer;
        transition:
          transform 0.2s ease,
          background 0.2s ease,
          box-shadow 0.2s ease;
        position: relative;
      }

      body.light-mode .word-card {
        background: rgba(17, 21, 39, 0.04);
      }

      .word-card.active,
      .word-card:hover {
        transform: translateY(-4px);
        background: rgba(104, 161, 255, 0.18);
        box-shadow: 0 20px 34px rgba(45, 79, 150, 0.35);
      }

      .word-card h4 {
        margin: 0;
        font-size: 1.05rem;
        font-weight: 600;
        letter-spacing: 0.01em;
      }

      .word-card .meta {
        color: var(--muted);
        font-size: 0.82rem;
      }

      .word-details {
        padding: clamp(1.4rem, 2.4vw, 2.4rem);
        display: flex;
        flex-direction: column;
        gap: 1rem;
        position: relative;
      }

      .word-details header {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      .word-details header h2 {
        margin: 0;
        font-size: clamp(1.8rem, 2.6vw, 2.4rem);
        font-family: "Playfair Display", serif;
        font-weight: 600;
      }

      .word-details .badges {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        font-size: 0.85rem;
      }

      .badge {
        padding: 0.35rem 0.75rem;
        border-radius: 999px;
        background: var(--accent-soft);
        color: var(--accent);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-weight: 500;
      }

      .definition {
        font-size: 1.05rem;
        line-height: 1.55;
      }

      .section-title {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
        margin-top: 0.8rem;
      }

      ul.list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      ul.list li {
        background: rgba(255, 255, 255, 0.04);
        padding: 0.75rem 0.9rem;
        border-radius: 14px;
        border: var(--border);
        line-height: 1.45;
      }

      body.light-mode ul.list li {
        background: rgba(17, 21, 39, 0.05);
      }

      .synonyms span {
        display: inline-flex;
        margin: 0.2rem;
        padding: 0.35rem 0.7rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.1);
        border: var(--border);
        font-size: 0.85rem;
      }

      .word-actions {
        display: flex;
        gap: 0.6rem;
        flex-wrap: wrap;
        margin-top: 1rem;
      }

      .word-actions button {
        border-radius: 14px;
        border: none;
        padding: 0.65rem 1rem;
        cursor: pointer;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        background: linear-gradient(
          135deg,
          rgba(108, 213, 255, 0.55),
          rgba(112, 151, 255, 0.75)
        );
        color: #0c1024;
        box-shadow: 0 12px 30px rgba(108, 213, 255, 0.35);
      }

      .word-actions button.secondary {
        background: rgba(255, 255, 255, 0.05);
        color: var(--text);
        border: var(--border);
        box-shadow: none;
      }

      .grid-two {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 0.85rem;
      }

      .info-block {
        padding: 1rem 1.1rem;
        border-radius: 16px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.04);
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      .info-block strong {
        font-size: 1.05rem;
      }

      .table-like {
        border-radius: 16px;
        border: var(--border);
        overflow: hidden;
        font-size: 0.92rem;
      }

      .table-like div {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0;
      }

      .table-like span {
        padding: 0.65rem 0.75rem;
        background: rgba(255, 255, 255, 0.04);
        display: block;
        border-bottom: var(--border);
      }

      .table-like span.header {
        font-weight: 600;
        letter-spacing: 0.03em;
        background: rgba(108, 213, 255, 0.12);
      }

      section.insights {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 1.6rem;
      }

      .insight-card {
        border-radius: 24px;
        padding: 1.5rem;
        background: var(--card);
        border: var(--border);
        box-shadow: var(--shadow);
        display: flex;
        flex-direction: column;
        gap: 0.9rem;
      }

      .insight-card h3 {
        margin: 0;
        font-size: 1.25rem;
      }

      .trend-list,
      .tip-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
      }

      .trend-list li,
      .tip-list li {
        display: flex;
        flex-direction: column;
        gap: 0.3rem;
        padding: 0.8rem 0.95rem;
        border-radius: 16px;
        border: var(--border);
        background: rgba(255, 255, 255, 0.04);
      }

      footer {
        margin-top: 2rem;
        padding: 2rem 0 3rem;
        text-align: center;
        color: var(--muted);
        font-size: 0.9rem;
      }

      footer a {
        color: var(--accent);
        text-decoration: none;
      }

      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
      }

      ::-webkit-scrollbar-thumb {
        background: rgba(125, 160, 255, 0.3);
        border-radius: 999px;
      }

      @media (max-width: 1200px) {
        section.hero {
          grid-template-columns: 1fr;
        }

        .dictionary-section {
          grid-template-columns: 1fr;
        }

        .word-area {
          grid-template-columns: 1fr;
        }

        .word-grid {
          max-height: none;
        }
      }

      @media (max-width: 820px) {
        header.top-bar {
          flex-wrap: wrap;
          gap: 1rem;
        }

        nav.top-links {
          order: 3;
          width: 100%;
          justify-content: space-between;
        }

        .hero-search {
          flex-direction: column;
        }

        .hero-search input[type="search"],
        .pill-btn {
          width: 100%;
        }
      }

      @media (max-width: 620px) {
        main.page {
          padding: 1.2rem;
        }

        .hero-card,
        .side-card,
        .filter-panel,
        .word-details,
        .insight-card {
          border-radius: 20px;
        }

        .word-card {
          padding: 0.85rem 0.9rem;
        }

        .table-like div {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .table-like span:nth-child(3n) {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="gradient-bg">
      <div class="gradient-blob blob-1"></div>
      <div class="gradient-blob blob-2"></div>
      <div class="gradient-blob blob-3"></div>
    </div>
    <header class="top-bar">
      <div class="brand">
        <span class="logo-icon"><i class="fa-solid fa-feather"></i></span>
        <span>LumenLexikon · Deutsch</span>
      </div>
      <nav class="top-links">
        <a href="#lexikon">Lexikon</a>
        <a href="#wissen">Wissenswelt</a>
        <a href="#kontakt">Kontakt</a>
      </nav>
      <div class="top-actions">
        <button
          class="theme-toggle"
          id="themeToggle"
          aria-label="Farbschema wechseln"
        >
          <i class="fa-solid fa-moon"></i>
        </button>
        <button class="pill-btn" id="openRandom">
          <i class="fa-solid fa-shuffle"></i>
          Zufallswort
        </button>
      </div>
    </header>

    <main class="page">
      <section class="hero">
        <article class="hero-card">
          <h1>Ein Wörterbuch, das Inspiration schenkt.</h1>
          <p class="lead">
            Entdecken Sie die Nuancen der deutschen Sprache mit liebevoll
            kuratierten Bedeutungen, Klangbildern und Anwendungstipps. Für
            Lernende, Sprachprofis und alle, die sich von Wörtern verzaubern
            lassen möchten.
          </p>
          <div class="hero-search">
            <input
              type="search"
              id="globalSearch"
              placeholder="Suche nach Wort, Synonym oder Thema …"
              autocomplete="off"
            />
            <button class="pill-btn" id="addToFavorites">
              <i class="fa-solid fa-bookmark"></i>
              Zu Favoriten
            </button>
          </div>
          <div class="hero-metrics">
            <div class="metric-card">
              <span class="label">Kuratiertes Vokabular</span>
              <strong id="wordCount">0</strong>
              <small>Wörter voller Kontext</small>
            </div>
            <div class="metric-card">
              <span class="label">Aussprachehinweise</span>
              <strong id="phoneticCount">0</strong>
              <small>mit Lautschrift &amp; Rhythmus</small>
            </div>
            <div class="metric-card">
              <span class="label">Smarte Lernpfade</span>
              <strong id="levelSpread">A1–C2</strong>
              <small>CEFR-Level im Überblick</small>
            </div>
          </div>
        </article>
        <aside class="side-card">
          <h2>Wort des Tages</h2>
          <p>
            Jeden Morgen neu ausgewählt – mit Inspiration zum sofortigen
            Anwenden.
          </p>
          <div class="word-of-day" id="wordOfDay"></div>
        </aside>
      </section>

      <section class="dictionary-section" id="lexikon">
        <aside class="filter-panel">
          <h3>Smartes Suchpanel</h3>
          <div class="filter-group">
            <label for="filterSearch">Suche verfeinern</label>
            <input
              type="search"
              id="filterSearch"
              placeholder="z. B. Verantwortung, Verb, Natur"
              autocomplete="off"
            />
          </div>
          <div class="filter-group">
            <label for="filterPOS">Wortart</label>
            <select id="filterPOS">
              <option value="">Alle Wortarten</option>
              <option value="Substantiv">Substantive</option>
              <option value="Verb">Verben</option>
              <option value="Adjektiv">Adjektive</option>
              <option value="Redewendung">Redewendungen</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="filterLevel">Niveau</label>
            <select id="filterLevel">
              <option value="">Alle Level</option>
              <option value="A1">A1</option>
              <option value="A2">A2</option>
              <option value="B1">B1</option>
              <option value="B2">B2</option>
              <option value="C1">C1</option>
              <option value="C2">C2</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Direkte Sprünge</label>
            <div class="quick-actions">
              <button data-topic="Natur">
                <span><i class="fa-solid fa-leaf"></i> Natur</span>
                <small>Wörter rund um Erde &amp; Umwelt</small>
              </button>
              <button data-topic="Gefühl">
                <span><i class="fa-solid fa-heart"></i> Gefühle</span>
                <small>Emotionen ausdrücken</small>
              </button>
              <button data-topic="Beruf">
                <span><i class="fa-solid fa-briefcase"></i> Beruf</span>
                <small>Professionelle Nuancen</small>
              </button>
              <button data-topic="Kultur">
                <span><i class="fa-solid fa-masks-theater"></i> Kultur</span>
                <small>Gemeinschaft &amp; Gesellschaft</small>
              </button>
            </div>
          </div>
          <div class="filter-group">
            <label>Inspiration</label>
            <div class="suggestions" id="suggestions"></div>
          </div>
          <div class="favorites">
            <h4>Ihre Favoriten</h4>
            <ul id="favoriteList"></ul>
          </div>
        </aside>
        <section class="word-area">
          <div class="word-grid" id="wordGrid"></div>
          <article class="word-details" id="wordDetails">
            <p>
              Wählen Sie ein Wort oder starten Sie mit dem Wort des Tages, um
              Details zu sehen.
            </p>
          </article>
        </section>
      </section>

      <section class="insights" id="wissen">
        <article class="insight-card">
          <h3>Trendwörter der Woche</h3>
          <ul class="trend-list" id="trends"></ul>
        </article>
        <article class="insight-card">
          <h3>Grammatik-Spotlight</h3>
          <ul class="tip-list">
            <li>
              <strong>Verbklang</strong>
              <span
                >Nutzen Sie Rhythmus und Satzmelodie: Betonen Sie im Deutschen
                gern die erste Silbe, z. B. <em>VER</em>antwortung oder
                <em>MIT</em>gefühl.</span
              >
            </li>
            <li>
              <strong>Substantiv-Genus merken</strong>
              <span
                >Visualisieren Sie Bilder zum Artikel: die
                <em>Gemütlichkeit</em> als warmes Licht, der
                <em>Aufbruch</em> als Morgensonne.</span
              >
            </li>
            <li>
              <strong>Synonyme bewusst wählen</strong>
              <span
                >Jedes Synonym bringt eine Nuance mit:
                <em>zuverlässig</em> wirkt präzise, während
                <em>verlässlich</em> etwas weicher klingt.</span
              >
            </li>
          </ul>
        </article>
        <article class="insight-card">
          <h3>Lernreise begleiten</h3>
          <div class="grid-two" id="learningJourney"></div>
        </article>
      </section>
    </main>

    <footer id="kontakt">
      LumenLexikon · Kuratiert mit Liebe zur Sprache – Schreiben Sie uns unter
      <a href="mailto:hallo@lumenlexikon.de">hallo@lumenlexikon.de</a>
    </footer>

    <script>
      const dictionaryData = [
        {
          word: "Verantwortung",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Verantwortungen",
          phonetic: "[fɛɐ̯ˈʔantvɔʁtʊŋ]",
          definition:
            "Pflichtbewusstes Handeln für Folgen und Entscheidungen zu übernehmen.",
          examples: [
            "Sie übernimmt Verantwortung für ihr Team und trifft Entscheidungen transparent.",
            "In einer Demokratie tragen Bürgerinnen und Bürger Verantwortung für das Gemeinwohl.",
          ],
          synonyms: ["Pflicht", "Zuständigkeit", "Obliegenheit"],
          collocations: [
            "Verantwortung übernehmen",
            "gemeinsame Verantwortung",
            "Verantwortungsgefühl stärken",
          ],
          relatedTopics: ["Beruf", "Gesellschaft"],
          frequency: 86,
          etymology:
            "Aus dem mittelhochdeutschen „verantwurtunge“ – eine Antwort schuldig sein.",
          usageNotes:
            "Wird häufig mit Verben wie „tragen“, „übernehmen“ oder „abgeben“ verwendet.",
        },
        {
          word: "zuverlässig",
          partOfSpeech: "Adjektiv",
          level: "B1",
          phonetic: "[tsuˈfɛlɛsɪç]",
          definition:
            "Verlässlich und vertrauenswürdig, jemand oder etwas, auf das man sich stets verlassen kann.",
          examples: [
            "Die Bahn ist heute erstaunlich zuverlässig und kommt pünktlich an.",
            "Er gilt als zuverlässiger Kollege, weil er Termine immer einhält.",
          ],
          synonyms: ["verlässlich", "beständig", "solid"],
          collocations: [
            "zuverlässige Daten",
            "zuverlässige Quelle",
            "technisch zuverlässig",
          ],
          relatedTopics: ["Beruf", "Eigenschaft"],
          adjectiveForms: {
            comparative: "zuverlässiger",
            superlative: "am zuverlässigsten",
          },
          frequency: 72,
          usageNotes: "In formellen Kontexten beliebt, betont Kontinuität.",
        },
        {
          word: "gestalten",
          partOfSpeech: "Verb",
          level: "B2",
          phonetic: "[ɡəˈʃtaltən]",
          definition:
            "Etwas bewusst formen, entwickeln oder kreativ verändern.",
          examples: [
            "Wir gestalten den Workshop interaktiv, damit alle mitreden können.",
            "Architektinnen gestalten Räume, die eine Geschichte erzählen.",
          ],
          synonyms: ["formen", "prägen", "entwerfen"],
          collocations: [
            "aktiv gestalten",
            "Zukunft gestalten",
            "gemeinsam gestalten",
          ],
          relatedTopics: ["Kreativität", "Beruf"],
          verbForms: {
            present: "ich gestalte",
            preterite: "ich gestaltete",
            perfect: "ich habe gestaltet",
          },
          frequency: 64,
          usageNotes: "Betont die aktive Rolle beim Erschaffen oder Umsetzen.",
        },
        {
          word: "Fortschritt",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Fortschritte",
          phonetic: "[ˈfɔʁtʃʁɪt]",
          definition:
            "Positive Entwicklung hin zu einem verbesserten Zustand oder Ziel.",
          examples: [
            "Der medizinische Fortschritt schenkt vielen Menschen neue Hoffnung.",
            "Mit jedem Training macht sie kleine Fortschritte.",
          ],
          synonyms: ["Weiterentwicklung", "Verbesserung", "Innovation"],
          collocations: [
            "Fortschritt erzielen",
            "technischer Fortschritt",
            "Fortschritt vorantreiben",
          ],
          relatedTopics: ["Wissenschaft", "Zukunft"],
          frequency: 78,
          usageNotes:
            "Wird oft in Kombination mit Bereichen wie Technik oder Gesellschaft gebraucht.",
        },
        {
          word: "nachhaltig",
          partOfSpeech: "Adjektiv",
          level: "B2",
          phonetic: "[ˈnaːxhalˌtɪç]",
          definition:
            "Langanhaltend wirksam und Ressourcen schonend, mit Blick auf kommende Generationen.",
          examples: [
            "Das Unternehmen investiert in nachhaltige Energiekonzepte.",
            "Nachhaltiges Handeln berücksichtigt ökologische und soziale Auswirkungen.",
          ],
          synonyms: ["ressourcenschonend", "dauerhaft", "zukunftsfähig"],
          collocations: [
            "nachhaltige Entwicklung",
            "nachhaltiger Konsum",
            "ökologisch nachhaltig",
          ],
          relatedTopics: ["Natur", "Gesellschaft"],
          adjectiveForms: {
            comparative: "nachhaltiger",
            superlative: "am nachhaltigsten",
          },
          frequency: 83,
          usageNotes: "Zentrale Rolle in Klima- und CSR-Diskursen.",
        },
        {
          word: "Gemütlichkeit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Gemütlichkeiten",
          phonetic: "[ɡəˈmyːtlɪçkaɪ̯t]",
          definition:
            "Atmosphäre wohliger Geborgenheit, Wärme und Gelassenheit.",
          examples: [
            "Kerzenlicht und Musik schaffen am Abend echte Gemütlichkeit.",
            "Die Gastgeberin sorgte für Gemütlichkeit mit hausgemachtem Kuchen.",
          ],
          synonyms: ["Behaglichkeit", "Wohlgefühl", "Heimeligkeit"],
          collocations: [
            "Gemütlichkeit genießen",
            "für Gemütlichkeit sorgen",
            "Gemütlichkeit verbreiten",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          frequency: 55,
          culturalNote: "International berühmter Begriff, schwer übersetzbar.",
        },
        {
          word: "Herausforderung",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Herausforderungen",
          phonetic: "[hɛʁaʊ̯sˈfɔʁdʊŋ]",
          definition:
            "Eine anspruchsvolle Aufgabe, die Einsatz und Kreativität verlangt.",
          examples: [
            "Die digitale Transformation bleibt eine Herausforderung für viele Firmen.",
            "Neue Sprachen zu lernen ist eine reizvolle Herausforderung.",
          ],
          synonyms: ["Aufgabe", "Schwierigkeit", "Prüfung"],
          collocations: [
            "eine Herausforderung meistern",
            "spannende Herausforderung",
            "vor Herausforderungen stehen",
          ],
          relatedTopics: ["Beruf", "Persönlichkeit"],
          frequency: 81,
        },
        {
          word: "entschlossen",
          partOfSpeech: "Adjektiv",
          level: "B2",
          phonetic: "[ɛntˈʃlɔsn̩]",
          definition: "Mit festem Willen und klarer Entscheidung handelnd.",
          examples: [
            "Sie blieb entschlossen, auch wenn der Weg steinig war.",
            "Entschlossene Worte motivierten das ganze Team.",
          ],
          synonyms: ["zielstrebig", "resolut", "fest"],
          collocations: [
            "entschlossen auftreten",
            "entschlossen handeln",
            "entschlossene Haltung",
          ],
          relatedTopics: ["Persönlichkeit"],
          adjectiveForms: {
            comparative: "entschlossener",
            superlative: "am entschlossensten",
          },
          frequency: 60,
        },
        {
          word: "vernetzen",
          partOfSpeech: "Verb",
          level: "B2",
          phonetic: "[fɛɐ̯ˈnɛtsn̩]",
          definition:
            "Menschen, Organisationen oder Ideen miteinander in Verbindung bringen.",
          examples: [
            "Die Konferenz vernetzt Start-ups mit Investorinnen.",
            "Digitale Plattformen vernetzen Lernende weltweit.",
          ],
          synonyms: ["verbinden", "verknüpfen", "zusammenbringen"],
          collocations: [
            "digital vernetzen",
            "sich vernetzen",
            "Netzwerke vernetzen",
          ],
          relatedTopics: ["Technologie", "Beruf"],
          verbForms: {
            present: "ich vernetze",
            preterite: "ich vernetzte",
            perfect: "ich habe vernetzt",
          },
          frequency: 52,
          usageNotes:
            "Vor allem in Innovations- und Community-Kontexten genutzt.",
        },
        {
          word: "Wertschätzung",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Wertschätzungen",
          phonetic: "[ˈvɛʁtʃɛt͡sʊŋ]",
          definition:
            "Anerkennung, Respekt und positive Aufmerksamkeit gegenüber Personen oder Leistungen.",
          examples: [
            "Eine kleine Dankeskarte zeigt echte Wertschätzung.",
            "Wertschätzende Kommunikation stärkt jedes Team.",
          ],
          synonyms: ["Achtung", "Respekt", "Anerkennung"],
          collocations: [
            "Wertschätzung ausdrücken",
            "gegenseitige Wertschätzung",
            "wertschätzendes Feedback",
          ],
          relatedTopics: ["Gefühl", "Beruf"],
          frequency: 74,
        },
        {
          word: "Zuversicht",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Zuversichten",
          phonetic: "[ˈt͡suːfɐˌzɪçt]",
          definition:
            "Vertrauensvolle Erwartung, dass etwas gut ausgehen wird.",
          examples: [
            "Mit Zuversicht begann er seinen neuen Lebensabschnitt.",
            "Die positive Resonanz erfüllte das Team mit Zuversicht.",
          ],
          synonyms: ["Optimismus", "Hoffnung", "Glaube"],
          collocations: [
            "Zuversicht schöpfen",
            "voller Zuversicht",
            "Zuversicht verbreiten",
          ],
          relatedTopics: ["Gefühl"],
          frequency: 61,
        },
        {
          word: "lebendig",
          partOfSpeech: "Adjektiv",
          level: "B1",
          phonetic: "[leˈbɛndɪç]",
          definition: "Voller Energie, Ausdruckskraft und Bewegung.",
          examples: [
            "Die Stadt wirkt am Abend besonders lebendig.",
            "Sie erzählt Geschichten auf lebendige Weise.",
          ],
          synonyms: ["dynamisch", "lebhaft", "vital"],
          collocations: [
            "lebendige Diskussion",
            "lebendige Erinnerung",
            "lebendiges Viertel",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          adjectiveForms: {
            comparative: "lebendiger",
            superlative: "am lebendigsten",
          },
          frequency: 58,
        },
        {
          word: "Sehnsucht",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Sehnsüchte",
          phonetic: "[ˈzeːnˌzʊxt]",
          definition:
            "Intensives Verlangen nach jemandem, etwas oder einem Zustand.",
          examples: [
            "Lieder voller Sehnsucht begleiteten ihren Sommer.",
            "In der Ferne wächst die Sehnsucht nach vertrauten Orten.",
          ],
          synonyms: ["Verlangen", "Wehmut", "Fernweh"],
          collocations: [
            "tiefe Sehnsucht",
            "Sehnsucht stillen",
            "Sehnsucht verspüren",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          frequency: 47,
          culturalNote: "Zentraler Begriff der deutschen Romantik.",
        },
        {
          word: "Vielfalt",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Vielfalten",
          phonetic: "[ˈfiːlfalt]",
          definition:
            "Reichtum an unterschiedlichen Elementen, Perspektiven oder Arten.",
          examples: [
            "Die Vielfalt der Kulturen bereichert jede Stadt.",
            "Biologische Vielfalt ist essenziell für stabile Ökosysteme.",
          ],
          synonyms: ["Diversität", "Abwechslungsreichtum", "Pluralität"],
          collocations: [
            "kulturelle Vielfalt",
            "Vielfalt feiern",
            "Vielfalt bewahren",
          ],
          relatedTopics: ["Kultur", "Natur"],
          frequency: 69,
          usageNotes:
            "Wird häufig in gesellschaftspolitischen Debatten genutzt.",
        },
        {
          word: "vermitteln",
          partOfSpeech: "Verb",
          level: "B2",
          phonetic: "[fɛɐ̯ˈmɪtl̩n]",
          definition:
            "Zwischen Parteien vermitteln oder Wissen anschaulich weitergeben.",
          examples: [
            "Die Moderatorin vermittelt komplexe Inhalte verständlich.",
            "Er vermittelt zwischen den Abteilungen, um Lösungen zu finden.",
          ],
          synonyms: ["übermitteln", "weitergeben", "schlichten"],
          collocations: [
            "Frieden vermitteln",
            "Kompetenzen vermitteln",
            "Gefühl vermitteln",
          ],
          relatedTopics: ["Beruf", "Kommunikation"],
          verbForms: {
            present: "ich vermittle",
            preterite: "ich vermittelte",
            perfect: "ich habe vermittelt",
          },
          frequency: 66,
          usageNotes:
            "In pädagogischen und zwischenmenschlichen Kontexten beliebt.",
        },
        {
          word: "Mitgefühl",
          article: "das",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Mitgefühle",
          phonetic: "[ˈmɪtɡəˌfyːl]",
          definition:
            "Aufmerksames, einfühlendes Anteilnehmen an den Gefühlen anderer.",
          examples: [
            "Mit Mitgefühl zu handeln stärkt Beziehungen.",
            "Sie zeigte Mitgefühl für die schwierige Situation ihrer Freundin.",
          ],
          synonyms: ["Empathie", "Anteilnahme", "Mitleid"],
          collocations: [
            "Mitgefühl zeigen",
            "voll Mitgefühl",
            "Mitgefühl schenken",
          ],
          relatedTopics: ["Gefühl", "Gesellschaft"],
          frequency: 54,
          usageNotes:
            "Wird häufig in sozialen und spirituellen Kontexten verwendet.",
        },
        {
          word: "Aufbruch",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Aufbrüche",
          phonetic: "[ˈaʊ̯fbʁʊx]",
          definition:
            "Beginn einer neuen Phase mit Aufbruchstimmung und Hoffnung.",
          examples: [
            "Die Gruppe spürte einen kreativen Aufbruch nach dem Workshop.",
            "Politisch ist ein Aufbruch zu mehr Transparenz nötig.",
          ],
          synonyms: ["Neuanfang", "Start", "Aufbruchsstimmung"],
          collocations: [
            "Aufbruch wagen",
            "spürbarer Aufbruch",
            "Aufbruch in eine neue Zeit",
          ],
          relatedTopics: ["Zukunft", "Gesellschaft"],
          frequency: 49,
        },
        {
          word: "Zufriedenheit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Zufriedenheiten",
          phonetic: "[t͡suˈfʁiːdnhaɪ̯t]",
          definition:
            "Inneres Gleichgewicht und Ruhe, weil Erwartungen erfüllt sind.",
          examples: [
            "Nach dem Projekt blickte das Team mit Zufriedenheit zurück.",
            "Ein Spaziergang am Abend schenkt ihm Zufriedenheit.",
          ],
          synonyms: ["Erfüllung", "Gelassenheit", "Innere Ruhe"],
          collocations: [
            "Zufriedenheit ausstrahlen",
            "zufrieden sein",
            "Zufriedenheit steigern",
          ],
          relatedTopics: ["Gefühl"],
          frequency: 57,
        },
        {
          word: "tüfteln",
          partOfSpeech: "Verb",
          level: "C1",
          phonetic: "[ˈtʏftln̩]",
          definition:
            "Lange und konzentriert an einer Lösung oder Idee arbeiten.",
          examples: [
            "Die Ingenieurin tüftelt an einem energiesparenden Motor.",
            "Er tüftelt so lange, bis jedes Detail perfekt ist.",
          ],
          synonyms: ["experimentieren", "feilen", "basteln"],
          collocations: [
            "an Details tüfteln",
            "leidenschaftlich tüfteln",
            "gemeinsam tüfteln",
          ],
          relatedTopics: ["Technologie", "Kreativität"],
          verbForms: {
            present: "ich tüftle",
            preterite: "ich tüftelte",
            perfect: "ich habe getüftelt",
          },
          frequency: 45,
          usageNotes: "Verrät Begeisterung und Beharrlichkeit.",
        },
        {
          word: "Kultur",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Kulturen",
          phonetic: "[kʊlˈtuːɐ̯]",
          definition:
            "Gesamtheit von Lebensformen, Traditionen und Ausdrucksweisen einer Gemeinschaft.",
          examples: [
            "Der Austausch brachte unterschiedliche Kulturen zusammen.",
            "Kultur zu erleben erweitert den Blick auf die Welt.",
          ],
          synonyms: ["Tradition", "Lebensart", "Zivilisation"],
          collocations: [
            "Kultur erleben",
            "interkultureller Dialog",
            "Kultur fördern",
          ],
          relatedTopics: ["Kultur", "Gesellschaft"],
          frequency: 88,
          usageNotes: "Vielseitig einsetzbar – von Hochkultur bis Popkultur.",
        },
        {
          word: "Umgang",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Umgänge",
          phonetic: "[ˈʊmˌɡaŋ]",
          definition:
            "Art und Weise, wie man miteinander oder mit Themen umgeht.",
          examples: [
            "Ein respektvoller Umgang prägt unsere Zusammenarbeit.",
            "Der Umgang mit digitalen Medien will gelernt sein.",
          ],
          synonyms: ["Kontakt", "Verhalten", "Interaktion"],
          collocations: [
            "achtsamer Umgang",
            "Umgang pflegen",
            "sensibler Umgang",
          ],
          relatedTopics: ["Gesellschaft", "Kommunikation"],
          frequency: 63,
        },
        {
          word: "Ausblick",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Ausblicke",
          phonetic: "[ˈaʊ̯sbˌlɪk]",
          definition: "Vorausschau oder Aussicht auf Zukünftiges.",
          examples: [
            "Der Jahresbericht gibt einen optimistischen Ausblick.",
            "Vom Berg hat man einen grandiosen Ausblick über das Tal.",
          ],
          synonyms: ["Perspektive", "Prognose", "Aussicht"],
          collocations: [
            "Ausblick geben",
            "Ausblick genießen",
            "Ausblick wagen",
          ],
          relatedTopics: ["Zukunft", "Natur"],
          frequency: 59,
        },
        {
          word: "Gleichgewicht",
          article: "das",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Gleichgewichte",
          phonetic: "[ˈɡlaɪ̯çɡəˌvɪçt]",
          definition: "Ausgewogene, stabile Lage ohne Übergewicht einer Seite.",
          examples: [
            "Work-Life-Gleichgewicht ist vielen Menschen wichtig.",
            "In der Natur hält ein sensibles Gleichgewicht die Artenvielfalt aufrecht.",
          ],
          synonyms: ["Balance", "Ausgeglichenheit", "Stabilität"],
          collocations: [
            "Gleichgewicht finden",
            "inneres Gleichgewicht",
            "ökologisches Gleichgewicht",
          ],
          relatedTopics: ["Natur", "Gesundheit"],
          frequency: 53,
        },
        {
          word: "strahlend",
          partOfSpeech: "Adjektiv",
          level: "B1",
          phonetic: "[ˈʃtʁaːlənt]",
          definition: "Glänzend, hell leuchtend oder voller Freude.",
          examples: [
            "Sie kam mit einem strahlenden Lächeln in den Raum.",
            "Der Himmel ist heute strahlend blau.",
          ],
          synonyms: ["leuchtend", "hell", "glänzend"],
          collocations: [
            "strahlender Sonnenschein",
            "strahlende Augen",
            "strahlende Zukunft",
          ],
          relatedTopics: ["Gefühl", "Natur"],
          adjectiveForms: {
            comparative: "strahlender",
            superlative: "am strahlendsten",
          },
          frequency: 51,
        },
        {
          word: "Feingefühl",
          article: "das",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Feingefühle",
          phonetic: "[ˈfaɪ̯nɡəˌfyːl]",
          definition:
            "Sensibilität und Takt im Umgang mit Situationen oder Menschen.",
          examples: [
            "Mit viel Feingefühl leitete sie das schwierige Gespräch.",
            "Design verlangt Feingefühl für Formen und Farben.",
          ],
          synonyms: ["Taktgefühl", "Sensibilität", "Einfühlungsvermögen"],
          collocations: [
            "Feingefühl beweisen",
            "Feingefühl haben",
            "ohne Feingefühl",
          ],
          relatedTopics: ["Gefühl", "Kommunikation"],
          frequency: 41,
        },
        {
          word: "achtsam",
          partOfSpeech: "Adjektiv",
          level: "B2",
          phonetic: "[ˈaxtsaːm]",
          definition: "Bewusst aufmerksam und respektvoll wahrnehmend.",
          examples: [
            "Achtsames Atmen beruhigt den Geist.",
            "Sie pflegt einen achtsamen Umgang mit ihrer Zeit.",
          ],
          synonyms: ["aufmerksam", "bedacht", "bewusst"],
          collocations: [
            "achtsam kommunizieren",
            "achtsam essen",
            "achtsamer Umgang",
          ],
          relatedTopics: ["Gesundheit", "Gefühl"],
          adjectiveForms: {
            comparative: "achtsamer",
            superlative: "am achtsamsten",
          },
          frequency: 48,
        },
        {
          word: "Herzensangelegenheit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Herzensangelegenheiten",
          phonetic: "[ˈhɛʁt͡sənsʔanɡəˌleːɡn̩haɪ̯tn̩]",
          definition:
            "Thema, das jemandem besonders wichtig und emotional nah ist.",
          examples: [
            "Bildungsgerechtigkeit ist ihre Herzensangelegenheit.",
            "Die Rettung des Theaters wurde zur Herzensangelegenheit der Stadt.",
          ],
          synonyms: ["Lieblingsprojekt", "Anliegen", "Passion"],
          collocations: [
            "eine Herzensangelegenheit verfolgen",
            "Herzensangelegenheit unterstützen",
            "persönliche Herzensangelegenheit",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          frequency: 44,
        },
        {
          word: "Weitblick",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Weitblicke",
          phonetic: "[ˈvaɪ̯tˌblɪk]",
          definition:
            "Fähigkeit, Entwicklungen vorausschauend zu erkennen und zu planen.",
          examples: [
            "Unternehmerischer Weitblick hilft, Chancen frühzeitig zu nutzen.",
            "Sie zeigte Weitblick, indem sie nachhaltige Alternativen einführte.",
          ],
          synonyms: ["Voraussicht", "Vision", "Strategie"],
          collocations: [
            "Weitblick beweisen",
            "politischer Weitblick",
            "Weitblick entwickeln",
          ],
          relatedTopics: ["Zukunft", "Beruf"],
          frequency: 46,
        },
        {
          word: "lebensfroh",
          partOfSpeech: "Adjektiv",
          level: "B1",
          phonetic: "[ˈleːbn̩sˌfʁoː]",
          definition:
            "Voller Freude am Leben und positivem Blick auf den Alltag.",
          examples: [
            "Ihre lebensfrohe Art steckt alle an.",
            "Das lebensfrohe Fest dauerte bis in die Nacht.",
          ],
          synonyms: ["fröhlich", "optimistisch", "heiter"],
          collocations: [
            "lebensfrohe Musik",
            "lebensfrohes Lachen",
            "lebensfrohe Atmosphäre",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          adjectiveForms: {
            comparative: "lebensfroher",
            superlative: "am lebensfrohsten",
          },
          frequency: 43,
        },
        {
          word: "Fernweh",
          article: "das",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Fernwehe",
          phonetic: "[ˈfɛʁnveː]",
          definition:
            "Sehnsucht, in die Ferne zu reisen und Neues zu entdecken.",
          examples: [
            "Bei alten Reisefotos packt sie das Fernweh.",
            "Fernweh treibt ihn an, immer neue Städte zu besuchen.",
          ],
          synonyms: ["Reiselust", "Wanderlust", "Entdeckerdrang"],
          collocations: [
            "Fernweh verspüren",
            "Fernweh stillen",
            "Fernweh wecken",
          ],
          relatedTopics: ["Kultur", "Gefühl"],
          frequency: 50,
        },
        {
          word: "Aufgeschlossenheit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Aufgeschlossenheiten",
          phonetic: "[ˈaʊ̯fɡəˌʃlɔsn̩haɪ̯t]",
          definition: "Bereitschaft, Neuem offen zu begegnen und zuzuhören.",
          examples: [
            "Aufgeschlossenheit gegenüber Feedback fördert Entwicklung.",
            "Ihre Aufgeschlossenheit half ihr, im Ausland Freundschaften zu schließen.",
          ],
          synonyms: ["Offenheit", "Toleranz", "Neugier"],
          collocations: [
            "Aufgeschlossenheit zeigen",
            "kulturelle Aufgeschlossenheit",
            "mit Aufgeschlossenheit reagieren",
          ],
          relatedTopics: ["Gesellschaft", "Persönlichkeit"],
          frequency: 42,
        },
        {
          word: "Zweckfreiheit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C2",
          plural: "Zweckfreiheiten",
          phonetic: "[ˈt͡svɛkˌfʁaɪ̯haɪ̯t]",
          definition:
            "Handeln oder Gestalten ohne unmittelbaren Nutzen, nur aus Freude oder Interesse.",
          examples: [
            "Kunst entsteht oft in Zweckfreiheit und Experimentierfreude.",
            "Zweckfreiheit kann Innovationen fördern, weil sie freies Denken erlaubt.",
          ],
          synonyms: ["Selbstzweck", "Spielraum", "Muße"],
          collocations: [
            "Zweckfreiheit bewahren",
            "Moment der Zweckfreiheit",
            "zweckfrei arbeiten",
          ],
          relatedTopics: ["Kultur", "Kreativität"],
          frequency: 34,
        },
        {
          word: "Schaffensfreude",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Schaffensfreuden",
          phonetic: "[ˈʃafn̩sˌfʁɔɪ̯də]",
          definition: "Freude und Begeisterung beim kreativen Tun.",
          examples: [
            "Schaffensfreude lässt ihn neue Projekte starten.",
            "Mit Schaffensfreude füllt sie Leinwand um Leinwand.",
          ],
          synonyms: ["Kreativitätslust", "Tatendrang", "Schöpferkraft"],
          collocations: [
            "Schaffensfreude spüren",
            "künstlerische Schaffensfreude",
            "Schaffensfreude teilen",
          ],
          relatedTopics: ["Kreativität", "Gefühl"],
          frequency: 36,
        },
        {
          word: "Empfindsamkeit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "C1",
          plural: "Empfindsamkeiten",
          phonetic: "[ɛmˈfɪntzaːmkaɪ̯t]",
          definition: "Ausgeprägte Sensibilität für Stimmungen und Eindrücke.",
          examples: [
            "Ihre Empfindsamkeit macht sie zur aufmerksamen Zuhörerin.",
            "Kunstwerke sprechen häufig die Empfindsamkeit der Betrachter an.",
          ],
          synonyms: ["Sensibilität", "Feinfühligkeit", "Zartheit"],
          collocations: [
            "Empfindsamkeit zeigen",
            "feine Empfindsamkeit",
            "Empfindsamkeit bewahren",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          frequency: 33,
        },
        {
          word: "Morgenroutine",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B1",
          plural: "Morgenroutinen",
          phonetic: "[ˈmɔʁɡn̩ʁuˌtiːnə]",
          definition: "Wiederkehrende Abfolge von Handlungen zu Tagesbeginn.",
          examples: [
            "Eine achtsame Morgenroutine hilft, fokussiert zu starten.",
            "Zur Morgenroutine gehören für ihn Kaffee und Tagebuch.",
          ],
          synonyms: ["Tagesbeginn", "Morgenablauf", "Startprogramm"],
          collocations: [
            "eigene Morgenroutine",
            "Morgenroutine gestalten",
            "sanfte Morgenroutine",
          ],
          relatedTopics: ["Gesundheit", "Persönlichkeit"],
          frequency: 52,
        },
        {
          word: "Zusammenhalt",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Zusammenhalte",
          phonetic: "[t͡suˈzamənhalt]",
          definition:
            "Gefühl der Verbundenheit und gegenseitigen Unterstützung.",
          examples: [
            "Starker Zusammenhalt trägt das Team durch schwierige Zeiten.",
            "Nachbarschaftlicher Zusammenhalt zeigt sich im Alltag.",
          ],
          synonyms: ["Gemeinschaft", "Teamgeist", "Solidarität"],
          collocations: [
            "Zusammenhalt stärken",
            "enger Zusammenhalt",
            "Zusammenhalt erleben",
          ],
          relatedTopics: ["Gesellschaft", "Gefühl"],
          frequency: 68,
        },
        {
          word: "achtsamkeit",
          normalized: "Achtsamkeit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Achtsamkeiten",
          phonetic: "[ˈaxtzaːmkaɪ̯t]",
          definition: "Bewusste Aufmerksamkeit für den gegenwärtigen Moment.",
          examples: [
            "Achtsamkeit hilft, Stress wahrzunehmen und freundlich zu begegnen.",
            "Meditation schult Achtsamkeit im Alltag.",
          ],
          synonyms: ["Bewusstheit", "Präsenz", "Aufmerksamkeit"],
          collocations: [
            "Achtsamkeit üben",
            "Achtsamkeitspraxis",
            "achtsame Haltung",
          ],
          relatedTopics: ["Gesundheit", "Gefühl"],
          frequency: 67,
        },
        {
          word: "Einklang",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Einklänge",
          phonetic: "[ˈaɪ̯nˌklaŋ]",
          definition: "Harmonie und Übereinstimmung zwischen Elementen.",
          examples: [
            "Die Architektur steht im Einklang mit der Landschaft.",
            "Teamziele sollten im Einklang mit den Werten stehen.",
          ],
          synonyms: ["Harmonie", "Übereinstimmung", "Balance"],
          collocations: [
            "im Einklang sein",
            "Einklang herstellen",
            "Einklang finden",
          ],
          relatedTopics: ["Natur", "Beruf"],
          frequency: 56,
        },
        {
          word: "Gelassenheit",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Gelassenheiten",
          phonetic: "[ɡəˈlasnhaɪ̯t]",
          definition: "Innere Ruhe und Souveränität trotz möglicher Aufregung.",
          examples: [
            "Mit Gelassenheit reagierte sie auf unvorhergesehene Fragen.",
            "Gelassenheit wächst mit Erfahrung und Reflexion.",
          ],
          synonyms: ["Ruhe", "Fassung", "Besonnenheit"],
          collocations: [
            "Gelassenheit bewahren",
            "Gelassenheit ausstrahlen",
            "Gelassenheit finden",
          ],
          relatedTopics: ["Gefühl", "Gesundheit"],
          frequency: 62,
        },
        {
          word: "Inspirationsquelle",
          article: "die",
          partOfSpeech: "Substantiv",
          level: "B2",
          plural: "Inspirationsquellen",
          phonetic: "[ɪnspɪʁaˈt͡si̯oːnsˌkvɛlə]",
          definition: "Ort, Person oder Idee, aus der neue Impulse entstehen.",
          examples: [
            "Reisen ist für sie die größte Inspirationsquelle.",
            "Ein gutes Gespräch kann Inspirationsquelle für Projekte sein.",
          ],
          synonyms: ["Anregung", "Ideengeber", "Impuls"],
          collocations: [
            "eine Inspirationsquelle finden",
            "Inspirationsquelle nutzen",
            "Inspirationsquelle teilen",
          ],
          relatedTopics: ["Kreativität", "Kultur"],
          frequency: 48,
        },
        {
          word: "Feierabend",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "A2",
          plural: "Feierabende",
          phonetic: "[ˈfaɪ̯ɐˌʔaːbn̩t]",
          definition:
            "Zeit nach Beendigung der Arbeit, die der Erholung dient.",
          examples: [
            "Nach dem Feierabend trifft sich die Gruppe im Park.",
            "Ein früher Feierabend fühlt sich besonders luxuriös an.",
          ],
          synonyms: ["Arbeitsende", "Feierabendzeit", "Feierabendstimmung"],
          collocations: [
            "Feierabend machen",
            "Feierabend genießen",
            "Feierabendbier",
          ],
          relatedTopics: ["Beruf", "Kultur"],
          frequency: 71,
        },
        {
          word: "Augenblick",
          article: "der",
          partOfSpeech: "Substantiv",
          level: "A2",
          plural: "Augenblicke",
          phonetic: "[ˈaʊ̯ɡn̩ˌblɪk]",
          definition: "Sehr kurzer Moment, der in Erinnerung bleibt.",
          examples: [
            "In einem Augenblick kann sich alles verändern.",
            "Dieser Augenblick bleibt unvergesslich.",
          ],
          synonyms: ["Moment", "Sekunde", "Augenblicklichkeit"],
          collocations: [
            "im Augenblick",
            "einen Augenblick warten",
            "kostbarer Augenblick",
          ],
          relatedTopics: ["Gefühl", "Kultur"],
          frequency: 65,
        },
      ];
      const suggestionsPool = [
        "achtsam atmen",
        "mutig gestalten",
        "Teamgeist",
        "klare Aussprache",
        "sanfte Melodie",
        "strategischer Weitblick",
        "starke Gemeinschaft",
        "kulturelle Vielfalt",
        "Grammatik mit Gefühl",
      ];

      let state = {
        favorites: [],
        filteredWords: [...dictionaryData],
        currentWord: null,
      };

      const globalSearch = document.getElementById("globalSearch");
      const filterSearch = document.getElementById("filterSearch");
      const filterPOS = document.getElementById("filterPOS");
      const filterLevel = document.getElementById("filterLevel");
      const wordGrid = document.getElementById("wordGrid");
      const wordDetails = document.getElementById("wordDetails");
      const wordOfDayContainer = document.getElementById("wordOfDay");
      const favoritesList = document.getElementById("favoriteList");
      const addToFavoritesBtn = document.getElementById("addToFavorites");
      const randomBtn = document.getElementById("openRandom");
      const themeToggle = document.getElementById("themeToggle");
      const wordCount = document.getElementById("wordCount");
      const phoneticCount = document.getElementById("phoneticCount");
      const suggestionsContainer = document.getElementById("suggestions");
      const trendsList = document.getElementById("trends");
      const learningJourney = document.getElementById("learningJourney");

      function init() {
        wordCount.textContent = dictionaryData.length.toString();
        phoneticCount.textContent = dictionaryData
          .filter((entry) => entry.phonetic)
          .length.toString();
        renderSuggestions();
        renderWordGrid(dictionaryData);
        renderWordOfDay();
        renderTrends();
        renderLearningJourney();
        loadFavorites();
        bindEvents();
        applyStoredTheme();
      }

      function renderSuggestions() {
        suggestionsContainer.innerHTML = "";
        suggestionsPool.forEach((tip) => {
          const chip = document.createElement("span");
          chip.textContent = tip;
          chip.addEventListener("click", () => {
            filterSearch.value = tip.split(" ")[0];
            handleFiltering();
          });
          suggestionsContainer.appendChild(chip);
        });
      }

      function bindEvents() {
        const searchInputs = [globalSearch, filterSearch];
        searchInputs.forEach((input) => {
          input.addEventListener("input", handleFiltering);
        });

        filterPOS.addEventListener("change", handleFiltering);
        filterLevel.addEventListener("change", handleFiltering);

        document.querySelectorAll(".quick-actions button").forEach((button) => {
          button.addEventListener("click", () => {
            filterSearch.value = button.dataset.topic;
            handleFiltering();
          });
        });

        addToFavoritesBtn.addEventListener("click", () => {
          if (state.currentWord) {
            toggleFavorite(state.currentWord.word);
          }
        });

        randomBtn.addEventListener("click", openRandomWord);
        themeToggle.addEventListener("click", toggleTheme);
      }

      function renderWordGrid(words) {
        state.filteredWords = words;
        wordGrid.innerHTML = "";

        const sorted = [...words].sort((a, b) =>
          a.word.localeCompare(b.word, "de"),
        );
        sorted.forEach((entry) => {
          const card = document.createElement("article");
          card.className = "word-card";
          card.innerHTML = `
          <h4>${entry.article ? `${entry.article} ${entry.word}` : entry.word}</h4>
          <span class="meta">${entry.partOfSpeech}${entry.level ? ` · ${entry.level}` : ""}</span>
        `;
          card.addEventListener("click", () => {
            showWordDetails(entry.word);
          });
          wordGrid.appendChild(card);
        });
      }

      function renderWordOfDay() {
        if (!dictionaryData.length) return;
        const today = new Date();
        const index =
          (today.getDate() + today.getMonth()) % dictionaryData.length;
        const word = dictionaryData[index];
        displayWordOfDay(word);
        showWordDetails(word.word);
      }

      function displayWordOfDay(entry) {
        if (!entry) return;
        wordOfDayContainer.innerHTML = `
        <div class="wod-title">${entry.article ? `${entry.article} ${entry.word}` : entry.word}</div>
        <div class="wod-meta">
          <span>${entry.partOfSpeech}</span>
          ${entry.level ? `<span>Level ${entry.level}</span>` : ""}
        </div>
        <p>${entry.definition}</p>
        <button class="pill-btn" style="align-self:flex-start;margin-top:0.4rem;" onclick="showWordDetails('${entry.word.replace(/'/g, "&#39;")}')">
          <i class="fa-solid fa-arrow-right"></i>
          Details ansehen
        </button>
      `;
      }
      function showWordDetails(word) {
        const entry = dictionaryData.find(
          (item) => item.word === word || item.normalized === word,
        );
        if (!entry) return;
        state.currentWord = entry;

        document.querySelectorAll(".word-card").forEach((card) => {
          const text = card.querySelector("h4").textContent;
          card.classList.toggle("active", text.includes(entry.word));
        });

        const synonymChips = (entry.synonyms || [])
          .map((syn) => `<span>${syn}</span>`)
          .join("");

        const exampleList = (entry.examples || [])
          .map((example) => `<li>${example}</li>`)
          .join("");

        const collocationList = (entry.collocations || [])
          .map((coll) => `<li>${coll}</li>`)
          .join("");

        const grammarBlocks = [];
        if (entry.article) {
          grammarBlocks.push(`
          <div class="info-block">
            <strong>Artikel &amp; Plural</strong>
            <span>${entry.article} ${entry.word}</span>
            ${entry.plural ? `<span>Plural: ${entry.plural}</span>` : ""}
          </div>
        `);
        }

        if (entry.verbForms) {
          grammarBlocks.push(`
          <div class="info-block">
            <strong>Verbformen</strong>
            <div class="table-like">
              <div>
                <span class="header">Präsens</span>
                <span class="header">Präteritum</span>
                <span class="header">Perfekt</span>
              </div>
              <div>
                <span>${entry.verbForms.present}</span>
                <span>${entry.verbForms.preterite}</span>
                <span>${entry.verbForms.perfect}</span>
              </div>
            </div>
          </div>
        `);
        }

        if (entry.adjectiveForms) {
          grammarBlocks.push(`
          <div class="info-block">
            <strong>Steigerung</strong>
            <span>Komparativ: ${entry.adjectiveForms.comparative}</span>
            <span>Superlativ: ${entry.adjectiveForms.superlative}</span>
          </div>
        `);
        }

        const topics = (entry.relatedTopics || [])
          .map((topic) => `<span class="badge">${topic}</span>`)
          .join("");

        const cultural = entry.culturalNote
          ? `<div class="info-block"><strong>Kulturelle Notiz</strong><span>${entry.culturalNote}</span></div>`
          : "";

        const usage = entry.usageNotes
          ? `<div class="info-block"><strong>Anwendung</strong><span>${entry.usageNotes}</span></div>`
          : "";

        const etymology = entry.etymology
          ? `<div class="info-block"><strong>Herkunft</strong><span>${entry.etymology}</span></div>`
          : "";

        wordDetails.innerHTML = `
        <header>
          <h2>${entry.article ? `${entry.article} ${entry.word}` : entry.word}</h2>
          <div class="badges">
            <span class="badge">${entry.partOfSpeech}</span>
            ${entry.level ? `<span class="badge">Level ${entry.level}</span>` : ""}
            ${entry.phonetic ? `<span class="badge">${entry.phonetic}</span>` : ""}
          </div>
          <p class="definition">${entry.definition}</p>
        </header>
        <div class="word-actions">
          <button onclick="toggleFavorite('${entry.word.replace(/'/g, "&#39;")}')">
            <i class="fa-solid fa-bookmark"></i>
            Favorit sichern
          </button>
          <button class="secondary" onclick="copyDefinition('${entry.word.replace(/'/g, "&#39;")}')">
            <i class="fa-solid fa-copy"></i>
            Definition kopieren
          </button>
        </div>
        ${topics ? `<div class="badges">${topics}</div>` : ""}
        ${exampleList ? `<div><div class="section-title">Beispiele</div><ul class="list">${exampleList}</ul></div>` : ""}
        ${synonymChips ? `<div><div class="section-title">Synonyme</div><div class="synonyms">${synonymChips}</div></div>` : ""}
        ${collocationList ? `<div><div class="section-title">Kollokationen</div><ul class="list">${collocationList}</ul></div>` : ""}
        ${grammarBlocks.length ? `<div class="grid-two">${grammarBlocks.join("")}</div>` : ""}
        ${usage}
        ${cultural}
        ${etymology}
      `;

        updateFavoriteButton();
      }

      function handleFiltering() {
        const textQuery = (globalSearch.value || filterSearch.value || "")
          .trim()
          .toLowerCase();
        const pos = filterPOS.value;
        const level = filterLevel.value;

        const filtered = dictionaryData.filter((entry) => {
          const matchesText =
            !textQuery ||
            entry.word.toLowerCase().includes(textQuery) ||
            (entry.normalized &&
              entry.normalized.toLowerCase().includes(textQuery)) ||
            (entry.definition &&
              entry.definition.toLowerCase().includes(textQuery)) ||
            (entry.synonyms &&
              entry.synonyms.some((syn) =>
                syn.toLowerCase().includes(textQuery),
              )) ||
            (entry.relatedTopics &&
              entry.relatedTopics.some((topic) =>
                topic.toLowerCase().includes(textQuery),
              ));

          const matchesPOS = !pos || entry.partOfSpeech === pos;
          const matchesLevel = !level || entry.level === level;
          return matchesText && matchesPOS && matchesLevel;
        });

        renderWordGrid(filtered);

        if (filtered.length) {
          showWordDetails(filtered[0].word);
        } else {
          wordDetails.innerHTML =
            "<p>Keine Einträge gefunden. Probieren Sie andere Filter oder entdecken Sie ein Zufallswort.</p>";
        }
      }

      function openRandomWord() {
        if (!state.filteredWords.length) return;
        const randomIndex = Math.floor(
          Math.random() * state.filteredWords.length,
        );
        const entry = state.filteredWords[randomIndex];
        showWordDetails(entry.word);
        wordDetails.scrollIntoView({ behavior: "smooth", block: "start" });
      }
      function toggleFavorite(word) {
        const favorites = new Set(state.favorites);
        if (favorites.has(word)) {
          favorites.delete(word);
        } else {
          favorites.add(word);
        }
        state.favorites = Array.from(favorites);
        saveFavorites();
        renderFavorites();
        updateFavoriteButton();
      }

      function updateFavoriteButton() {
        if (!state.currentWord) return;
        const isFavorite = state.favorites.includes(state.currentWord.word);
        addToFavoritesBtn.innerHTML = `
        <i class="fa-solid ${isFavorite ? "fa-bookmark" : "fa-bookmark"}"></i>
        ${isFavorite ? "In Favoriten" : "Zu Favoriten"}
      `;
      }

      function renderFavorites() {
        favoritesList.innerHTML = "";
        if (!state.favorites.length) {
          const empty = document.createElement("li");
          empty.textContent = "Noch keine Favoriten gespeichert.";
          empty.style.color = "var(--muted)";
          favoritesList.appendChild(empty);
          return;
        }

        state.favorites
          .map((word) => dictionaryData.find((entry) => entry.word === word))
          .filter(Boolean)
          .forEach((entry) => {
            const li = document.createElement("li");
            li.innerHTML = `<span>${entry.article ? `${entry.article} ` : ""}${entry.word}</span><i class="fa-solid fa-arrow-up-right-from-square"></i>`;
            li.addEventListener("click", () => showWordDetails(entry.word));
            favoritesList.appendChild(li);
          });
      }

      function saveFavorites() {
        try {
          localStorage.setItem(
            "lumenlexikon-favorites",
            JSON.stringify(state.favorites),
          );
        } catch (error) {
          console.warn("Favoriten konnten nicht gespeichert werden", error);
        }
      }

      function loadFavorites() {
        try {
          const stored = localStorage.getItem("lumenlexikon-favorites");
          if (stored) {
            state.favorites = JSON.parse(stored);
          }
        } catch (error) {
          console.warn("Favoriten konnten nicht geladen werden", error);
        }
        renderFavorites();
        updateFavoriteButton();
      }

      function copyDefinition(word) {
        const entry = dictionaryData.find((item) => item.word === word);
        if (!entry) return;
        const text = `${entry.word} (${entry.partOfSpeech}) – ${entry.definition}`;
        navigator.clipboard.writeText(text).then(() => {
          const button = wordDetails.querySelector(
            ".word-actions button.secondary",
          );
          if (!button) return;
          const original = button.innerHTML;
          button.innerHTML = '<i class="fa-solid fa-check"></i> Kopiert!';
          setTimeout(() => {
            button.innerHTML = original;
          }, 1800);
        });
      }
      function renderTrends() {
        const sorted = [...dictionaryData]
          .sort((a, b) => b.frequency - a.frequency)
          .slice(0, 5);
        trendsList.innerHTML = "";
        sorted.forEach((entry, index) => {
          const li = document.createElement("li");
          li.innerHTML = `
          <strong>#${index + 1} ${entry.word}</strong>
          <span>${entry.definition}</span>
        `;
          li.addEventListener("click", () => showWordDetails(entry.word));
          trendsList.appendChild(li);
        });
      }

      function renderLearningJourney() {
        const grouped = dictionaryData.reduce((acc, entry) => {
          const level = entry.level || "–";
          acc[level] = (acc[level] || 0) + 1;
          return acc;
        }, {});

        const levels = ["A1", "A2", "B1", "B2", "C1", "C2"];
        learningJourney.innerHTML = "";
        levels.forEach((level) => {
          const count = grouped[level] || 0;
          const card = document.createElement("div");
          card.className = "info-block";
          const progress = Math.min(100, (count / dictionaryData.length) * 180);
          card.innerHTML = `
          <strong>${level}</strong>
          <span>${count} Einträge</span>
          <div style="height:6px;border-radius:999px;background:rgba(255,255,255,0.08);overflow:hidden;">
            <div style="width:${progress}%;background:linear-gradient(135deg, rgba(108,213,255,0.65), rgba(112,151,255,0.85));height:100%;"></div>
          </div>
        `;
          learningJourney.appendChild(card);
        });
      }

      function toggleTheme() {
        const isLight = document.body.classList.toggle("light-mode");
        themeToggle.innerHTML = `<i class="fa-solid ${isLight ? "fa-sun" : "fa-moon"}"></i>`;
        try {
          localStorage.setItem(
            "lumenlexikon-theme",
            isLight ? "light" : "dark",
          );
        } catch (error) {
          console.warn("Theme konnte nicht gespeichert werden", error);
        }
      }

      function applyStoredTheme() {
        try {
          const storedTheme = localStorage.getItem("lumenlexikon-theme");
          if (storedTheme === "light") {
            document.body.classList.add("light-mode");
            themeToggle.innerHTML = '<i class="fa-solid fa-sun"></i>';
          }
        } catch (error) {
          console.warn("Theme konnte nicht geladen werden", error);
        }
      }

      document.addEventListener("keydown", (event) => {
        if (event.key === "Enter" && document.activeElement === globalSearch) {
          handleFiltering();
          if (state.filteredWords.length) {
            showWordDetails(state.filteredWords[0].word);
          }
        }
      });

      window.addEventListener("load", init);
    </script>
  </body>
</html>
